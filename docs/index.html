<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Molecular Tools</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <link rel="stylesheet" href="css/main.css" />
  <script src="https://3Dmol.org/build/3Dmol-min.js"></script>
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
</head>
<body>
  <!-- Menu bar -->
  <nav class="menubar">
    <div class="menu-item" id="menu-home" onclick="showTool('welcome')" style="cursor: pointer; font-size: 20px;" title="Home">
      üè†
    </div>
    <div class="menu-item" id="menu-t3ps">
      T3PS ‚ñº
      <div class="dropdown">
        <div class="dropdown-item" onclick="showTool('welcome')">Home</div>
        <div class="dropdown-divider"></div>
        <div class="dropdown-item" onclick="showTool('about-t3ps')">About T3PS</div>
        <div class="dropdown-item has-submenu">
          Global QM vs Survey ‚ñ∂
          <div class="submenu">
            <div class="dropdown-item" onclick="showTool('global-qm-survey')">All Plots</div>
            <div class="dropdown-divider"></div>
            <div class="dropdown-item" onclick="showTool('global-ag-qm')">Œ±-Œ≥ QM CMAP</div>
            <div class="dropdown-item" onclick="showTool('global-ag-survey')">Œ±-Œ≥ Survey</div>
            <div class="dropdown-item" onclick="showTool('global-ez-qm')">Œµ-Œ∂ QM CMAP</div>
            <div class="dropdown-item" onclick="showTool('global-ez-survey')">Œµ-Œ∂ Survey</div>
            <div class="dropdown-item" onclick="showTool('global-za-qm')">Œ∂-Œ± QM CMAP</div>
            <div class="dropdown-item" onclick="showTool('global-za-survey')">Œ∂-Œ± Survey</div>
          </div>
        </div>
      </div>
    </div>

    <div class="menu-item" id="menu-tools">
      Tools ‚ñº
      <div class="dropdown">
        <div class="dropdown-item" onclick="showTool('mol-reader')">Molecule Reader</div>
        <div class="dropdown-divider"></div>
        <div class="dropdown-item" onclick="showTool('xyz-reader')">XYZ Reader (Legacy)</div>
      </div>
    </div>

    <div class="menu-item" id="menu-help">
      Help ‚ñº
      <div class="dropdown">
        <div class="dropdown-item" onclick="window.open('https://github.com/MingtianZ/cmap.pages', '_blank')">GitHub</div>
      </div>
    </div>
  </nav>

  <!-- Main content area -->
  <main id="main-content">
    <!-- Welcome page -->
    <div id="welcome" class="tool-panel tool-layout-centered tool-theme-welcome active">
      <h1>T3PS Molecular Conformational Analysis Tools</h1>
      <p style="font-size: 16px; color: #4b5563; margin-bottom: 40px;">Explore DNA phosphodiester backbone conformations through QM calculations and PDB surveys</p>

      <div class="feature-grid">
        <div class="feature-card" onclick="showTool('about-t3ps')">
          <div class="feature-icon">üìñ</div>
          <h3>About T3PS</h3>
          <p>Learn about the T3PS model compound and its role in understanding DNA backbone structure</p>
        </div>

        <div class="feature-card" onclick="showTool('mol-reader')">
          <div class="feature-icon">üß™</div>
          <h3>Molecule Reader</h3>
          <p>Load and visualize multiple molecular file formats (PDB, XYZ, MOL2, SDF, CIF) with interactive measurement tools</p>
        </div>

        <div class="feature-card" onclick="showTool('xyz-reader')">
          <div class="feature-icon">üß¨</div>
          <h3>XYZ Structure Viewer</h3>
          <p>Load and visualize molecular structures, measure dihedral angles interactively</p>
        </div>

        <div class="feature-card" onclick="showTool('global-ag-qm')">
          <div class="feature-icon">üî¨</div>
          <h3>Interactive QM: Œ±-Œ≥</h3>
          <p>Click on Œ±-Œ≥ energy surface to view 3D structures and measure dihedral angles</p>
        </div>

        <div class="feature-card" onclick="showTool('global-ez-qm')">
          <div class="feature-icon">üî¨</div>
          <h3>Interactive QM: Œµ-Œ∂</h3>
          <p>Click on Œµ-Œ∂ energy surface to view 3D structures and measure dihedral angles</p>
        </div>

        <div class="feature-card" onclick="showTool('global-za-qm')">
          <div class="feature-icon">üî¨</div>
          <h3>Interactive QM: Œ∂-Œ±</h3>
          <p>Click on Œ∂-Œ± energy surface to view 3D structures and measure dihedral angles</p>
        </div>
      </div>
    </div>

    <!-- About T3PS -->
    <div id="about-t3ps" class="tool-panel"></div>

    <!-- Global QM vs Survey (All plots) -->
    <div id="global-qm-survey" class="tool-panel"></div>

    <!-- Global single plots -->
    <div id="global-ag-qm" class="tool-panel"
         data-plot-type="qm" data-angle1="a" data-angle2="g"
         data-plot-title="QM: Œ±-Œ≥ CMAP"></div>
    <div id="global-ag-survey" class="tool-panel"
         data-plot-type="survey" data-angle1="a" data-angle2="g"
         data-plot-title="PDB Survey: Œ±-Œ≥"></div>
    <div id="global-ez-qm" class="tool-panel"
         data-plot-type="qm" data-angle1="e" data-angle2="z"
         data-plot-title="QM: Œµ-Œ∂ CMAP"></div>
    <div id="global-ez-survey" class="tool-panel"
         data-plot-type="survey" data-angle1="e" data-angle2="z"
         data-plot-title="PDB Survey: Œµ-Œ∂"></div>
    <div id="global-za-qm" class="tool-panel"
         data-plot-type="qm" data-angle1="z" data-angle2="a"
         data-plot-title="QM: Œ∂-Œ± CMAP (intra-residue)"></div>
    <div id="global-za-survey" class="tool-panel"
         data-plot-type="survey" data-angle1="z" data-angle2="a"
         data-plot-title="PDB Survey: Œ∂-Œ± (cross-residue)"></div>

    <!-- Molecule Reader (dynamically loaded) -->
    <div id="mol-reader" class="tool-panel tool-layout-flex"></div>

    <!-- XYZ Reader (dynamically loaded) -->
    <div id="xyz-reader" class="tool-panel tool-layout-flex"></div>
  </main>

  <!-- Main application script -->
  <script type="module">
    import { init } from './js/app.js';
    init();
  </script>
</body>
</html>
